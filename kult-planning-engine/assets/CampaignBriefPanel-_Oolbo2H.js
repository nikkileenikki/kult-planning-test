import{j as e}from"./index-C1JaId44.js";import{r as j}from"./vendor-7lAwbL4C.js";function B({brief:n,onUpdate:d,isCollapsed:h=!1,onCollapseChange:m}){const[u,x]=j.useState(null),[c,i]=j.useState(""),p=()=>{m&&m(!h)},k=r=>{const t={target:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),building:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),package:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),flag:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),briefcase:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),currency:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),location:e.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),calendar:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),users:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),device:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),tv:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),bolt:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})};return t[r]||t.target},v=[{key:"campaignName",label:"Campaign Name",iconName:"target",type:"text",required:!0},{key:"client",label:"Client/Brand",iconName:"building",type:"text",required:!1},{key:"product_brand",label:"Product/Service",iconName:"package",type:"text",required:!0},{key:"campaign_objective",label:"Objective",iconName:"flag",type:"select",options:["Awareness","Traffic","Engagement","Conversion"],required:!0},{key:"industry",label:"Industry",iconName:"briefcase",type:"text",required:!0},{key:"budget_rm",label:"Budget (RM)",iconName:"currency",type:"number",required:!0},{key:"startDate",label:"Campaign Start Date",iconName:"calendar",type:"date",required:!1},{key:"geography",label:"Geography",iconName:"location",type:"text",required:!0},{key:"duration_weeks",label:"Duration (weeks)",iconName:"calendar",type:"number",required:!0},{key:"targetAudience",label:"Target Audience",iconName:"users",type:"textarea",required:!1},{key:"devices",label:"Devices",iconName:"device",type:"text",required:!1},{key:"channel_preference",label:"Channel Focus",iconName:"tv",type:"select",options:["OTT","Social","Display","Balanced"],required:!1},{key:"priority",label:"Priority",iconName:"bolt",type:"select",options:["Max Reach","Performance"],required:!1}],l=(()=>{const r=v.filter(s=>s.required),t=r.filter(s=>{const o=n==null?void 0:n[s.key];return!(o==null||o===""||Array.isArray(o)&&o.length===0||typeof o=="string"&&o.trim()==="")});return Math.round(t.length/r.length*100)})(),g=r=>{x(r.key);const t=n==null?void 0:n[r.key];i(Array.isArray(t)?t.join(", "):t||"")},f=()=>{u&&d&&d(u,c),x(null),i("")},y=()=>{x(null),i("")},C=(r,t)=>{if(!t)return"â€”";if(Array.isArray(t))return t.join(", ");if(r==="budget_rm"&&typeof t=="number")return`RM ${t.toLocaleString()}`;if(r==="startDate"){if(typeof t=="string"){if(t.match(/^Q[1-4]\s+\d{4}$/i))return t;try{const s=new Date(t);if(!isNaN(s.getTime()))return s.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}catch{}}return t}return t},N=r=>{const t=n==null?void 0:n[r];return!(t==null||t===""||Array.isArray(t)&&t.length===0||typeof t=="string"&&t.trim()==="")};return h?e.jsx("div",{className:"fixed right-0 top-20 z-40",children:e.jsx("button",{onClick:p,className:"bg-[#1A1F35] border-l-2 border-t-2 border-b-2 border-[#00E5CC] rounded-l-lg p-3 hover:bg-[#00E5CC]/10 transition-colors",title:"Show Campaign Strategy",children:e.jsx("svg",{className:"w-5 h-5 text-[#00E5CC]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}):e.jsxs("div",{className:"fixed right-0 top-0 h-screen w-80 bg-[#0F1420] border-l border-[#1E293B] z-40 overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-[#1A1F35] border-b border-[#1E293B] p-4 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Campaign Strategy"}),e.jsx("button",{onClick:p,className:"text-[#94A3B8] hover:text-white transition-colors",title:"Collapse panel",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-[#94A3B8]",children:"Completion"}),e.jsxs("span",{className:`font-semibold ${l===100?"text-[#00E5CC]":"text-[#FF0080]"}`,children:[l,"%"]})]}),e.jsx("div",{className:"w-full bg-[#0F1420] rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${l===100?"bg-[#00E5CC]":"bg-[#FF0080]"}`,style:{width:`${l}%`}})})]})]}),e.jsx("div",{className:"p-4 space-y-3",children:v.map(r=>{const t=n==null?void 0:n[r.key],s=N(r.key),o=u===r.key;return e.jsxs("div",{className:`bg-[#1A1F35] rounded-lg p-3 border transition-all ${s?"border-[#00E5CC]/30":r.required?"border-[#FF0080]/30":"border-[#1E293B]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-[#94A3B8]",children:k(r.iconName)}),e.jsxs("span",{className:"text-xs text-[#94A3B8] uppercase tracking-wider",children:[r.label,r.required&&e.jsx("span",{className:"text-[#FF0080] ml-1",children:"*"})]})]}),!o&&d&&e.jsx("button",{onClick:()=>g(r),className:"text-[#94A3B8] hover:text-[#00E5CC] transition-colors",title:s?"Edit field":"Add value",children:s?e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}):e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),o?e.jsxs("div",{className:"space-y-2",children:[r.type==="textarea"?e.jsx("textarea",{value:c,onChange:a=>i(a.target.value),className:"w-full bg-[#0F1420] text-white text-sm rounded px-2 py-1.5 border border-[#00E5CC] focus:outline-none focus:ring-1 focus:ring-[#00E5CC]",rows:3,autoFocus:!0}):r.type==="select"?e.jsxs("select",{value:c,onChange:a=>i(a.target.value),className:"w-full bg-[#0F1420] text-white text-sm rounded px-2 py-1.5 border border-[#00E5CC] focus:outline-none focus:ring-1 focus:ring-[#00E5CC]",autoFocus:!0,children:[e.jsx("option",{value:"",children:"Select..."}),r.options.map(a=>e.jsx("option",{value:a,children:a},a))]}):e.jsx("input",{type:r.type,value:c,onChange:a=>i(a.target.value),className:"w-full bg-[#0F1420] text-white text-sm rounded px-2 py-1.5 border border-[#00E5CC] focus:outline-none focus:ring-1 focus:ring-[#00E5CC]",autoFocus:!0}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:f,className:"flex-1 bg-[#00E5CC] text-[#0A0E1A] text-xs font-semibold py-1.5 rounded hover:bg-[#00E5CC]/90 transition-colors",children:"Save"}),e.jsx("button",{onClick:y,className:"flex-1 bg-[#1E293B] text-[#94A3B8] text-xs font-semibold py-1.5 rounded hover:bg-[#1E293B]/80 transition-colors",children:"Cancel"})]})]}):e.jsx("div",{className:`text-sm font-medium ${s?"text-white":"text-[#94A3B8] italic"}`,children:C(r.key,t)}),!o&&e.jsx("div",{className:"flex items-center mt-2",children:s?e.jsxs("div",{className:"flex items-center text-[#00E5CC] text-xs",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Collected"]}):r.required?e.jsxs("div",{className:"flex items-center text-[#FF0080] text-xs",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Required"]}):e.jsx("div",{className:"text-[#94A3B8] text-xs",children:"Optional"})})]},r.key)})}),l===100&&e.jsxs("div",{className:"sticky bottom-0 bg-[#1A1F35] border-t border-[#1E293B] p-4",children:[e.jsxs("div",{className:"flex items-center text-[#00E5CC] text-sm mb-3",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Brief Complete!"]}),e.jsx("p",{className:"text-xs text-[#94A3B8]",children:"All required information has been collected. Ready to generate your media plan."})]})]})}export{B as C};
