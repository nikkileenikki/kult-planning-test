import{j as e}from"./index-C1JaId44.js";import{d as N,r as l}from"./vendor-7lAwbL4C.js";import{a as x}from"./utils-B9ygI19o.js";import{L as k}from"./Layout-BIIFe71_.js";const H=()=>{const i=N(),[a,p]=l.useState([]),[f,u]=l.useState(!0),[s,o]=l.useState("all"),[d,v]=l.useState("");l.useEffect(()=>{c()},[]);const c=async()=>{try{u(!0);const t=await x.get("/api/campaigns");t.data.success&&p(t.data.campaigns)}catch(t){console.error("Error fetching campaigns:",t)}finally{u(!1)}},b=t=>{i("/build-plan-wizard",{state:{campaign:t}})},j=async t=>{try{(await x.post(`/api/campaigns/${t}/duplicate`)).data.success&&(alert("✅ Campaign duplicated successfully!"),c())}catch(r){console.error("Error duplicating campaign:",r),alert("Failed to duplicate campaign")}},y=async(t,r)=>{if(window.confirm(`Are you sure you want to delete "${r}"?`))try{(await x.delete(`/api/campaigns/${t}`)).data.success&&(alert("✅ Campaign deleted successfully!"),c())}catch(n){console.error("Error deleting campaign:",n),alert("Failed to delete campaign")}},m=a.filter(t=>{var r,n,g;if(s==="ai"){if(!t.aiGenerated&&t.source!=="ai_wizard")return!1}else if(s!=="all"&&t.status!==s)return!1;if(d){const h=d.toLowerCase();return((r=t.campaignName)==null?void 0:r.toLowerCase().includes(h))||((n=t.brandProduct)==null?void 0:n.toLowerCase().includes(h))||((g=t.industry)==null?void 0:g.toLowerCase().includes(h))}return!0}),w=t=>t==="draft"?e.jsxs("span",{className:"px-3 py-1 bg-yellow-900/30 text-yellow-400 border border-yellow-700 rounded-full text-xs font-semibold flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Draft"]}):t==="booked"?e.jsxs("span",{className:"px-3 py-1 bg-green-900/30 text-green-400 border border-green-700 rounded-full text-xs font-semibold flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Booked"]}):e.jsxs("span",{className:"px-3 py-1 bg-blue-900/30 text-blue-400 border border-blue-700 rounded-full text-xs font-semibold flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Completed"]});return e.jsx(k,{children:e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-gray-100 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Plans"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Manage your saved campaigns and drafts"})]}),e.jsxs("button",{onClick:()=>i("/build-plan-wizard"),className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-purple-700 transition-all shadow-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Campaign"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="all"?"bg-cyan-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["All (",a.length,")"]}),e.jsxs("button",{onClick:()=>o("draft"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="draft"?"bg-yellow-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["Drafts (",a.filter(t=>t.status==="draft").length,")"]}),e.jsxs("button",{onClick:()=>o("booked"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="booked"?"bg-green-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["Booked (",a.filter(t=>t.status==="booked").length,")"]}),e.jsxs("button",{onClick:()=>o("completed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="completed"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["Completed (",a.filter(t=>t.status==="completed").length,")"]}),e.jsxs("button",{onClick:()=>o("ai"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${s==="ai"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M13 7H7v6h6V7z"}),e.jsx("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"})]}),"AI Generated (",a.filter(t=>t.aiGenerated||t.source==="ai_wizard").length,")"]})]}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search campaigns...",value:d,onChange:t=>v(t.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})})]})]}),f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-400",children:"Loading campaigns..."})}):m.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-24 h-24 text-gray-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-gray-400 text-lg",children:"No campaigns found"}),e.jsx("button",{onClick:()=>i("/build-plan-wizard"),className:"mt-4 px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors",children:"Create Your First Campaign"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(t=>e.jsxs("div",{className:"bg-[#0f0f0f] border border-gray-800 rounded-xl p-6 hover:border-cyan-600 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.campaignName||"Untitled Campaign"}),(t.aiGenerated||t.source==="ai_wizard")&&e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-900/40 to-pink-900/40 text-purple-300 border border-purple-700 rounded text-xs font-semibold flex items-center gap-1",children:[e.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M13 7H7v6h6V7z"}),e.jsx("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"})]}),"AI"]})]}),e.jsx("p",{className:"text-sm text-gray-400",children:t.brandProduct||"No brand"})]}),w(t.status)]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:t.industry||"No industry"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["RM ",parseFloat(t.totalBudget||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{children:new Date(t.updatedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b(t),className:"flex-1 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors text-sm font-medium",children:t.status==="draft"?"Continue Editing":"View"}),e.jsx("button",{onClick:()=>j(t.id),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",title:"Duplicate",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:()=>y(t.id,t.campaignName),className:"px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-800 rounded-lg transition-colors",title:"Delete",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id))})]})})};export{H as default};
